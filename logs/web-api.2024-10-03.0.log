2024-10-03 09:47:26 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 15019 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 09:47:26 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 09:47:26 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 09:47:26 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 09:47:27 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 09:47:27 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 95 ms. Found 7 JPA repository interfaces.
2024-10-03 09:47:28 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 09:47:28 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 09:47:28 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 09:47:28 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 09:47:28 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 09:47:28 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2286 ms
2024-10-03 09:47:29 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 09:47:29 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 09:47:30 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e07ca1
2024-10-03 09:47:30 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 09:47:31 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 09:47:32 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 09:47:32 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 09:47:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:33 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 09:47:34 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 09:47:34 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 09:47:34 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 09:47:34 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 8.362 seconds (process running for 9.033)
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 09:47:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 09:47:35 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 09:47:35 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 09:52:47 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 09:52:47 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 09:52:47 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 22 ms
2024-10-03 09:52:49 [sessionId=FF4206080F89A79B4BADCA525FE222F7] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1132 ms
2024-10-03 10:02:12 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:02:12 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:02:12 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:02:17 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 15289 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:02:17 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:02:17 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:02:17 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:02:18 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:02:19 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 7 JPA repository interfaces.
2024-10-03 10:02:19 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:02:19 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:02:19 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:02:19 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:02:20 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:02:20 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2256 ms
2024-10-03 10:02:20 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:02:20 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:02:21 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3169582a
2024-10-03 10:02:21 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:02:23 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:02:24 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:02:25 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:02:26 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:02:26 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:02:26 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:02:26 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 10.033 seconds (process running for 10.743)
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:02:26 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:26 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:26 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:02:26 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:02:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:02:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:02:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:06:38 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:06:38 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:06:38 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 14 ms
2024-10-03 10:06:39 [sessionId=FF4206080F89A79B4BADCA525FE222F7] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1299 ms
2024-10-03 10:11:13 [sessionId=FF4206080F89A79B4BADCA525FE222F7] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:11:13 [sessionId=FF4206080F89A79B4BADCA525FE222F7] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:13:25 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:13:26 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:13:26 [sessionId=402ED9DA5BEB8B8565C143345F8A2087] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:13:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:13:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.clearCart]
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByEmail]: This method is not transactional.
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:13:34 [sessionId=08625F06D93D459BD3E2ABDABF7B235A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.clearCart]
2024-10-03 10:14:00 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:00 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:00 [sessionId=534376F463171F100DE8D289C1C8BBB8] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByEmail]: This method is not transactional.
2024-10-03 10:14:00 [sessionId=534376F463171F100DE8D289C1C8BBB8] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:14:13 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:13 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:14:13 [sessionId=FB3211B07B0E18D8663A9F23234C7EDB] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:14:29 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:29 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:29 [sessionId=30774F06DA8A864F5DD12CD14083A2FA] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:14:29 [sessionId=30774F06DA8A864F5DD12CD14083A2FA] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:14:51 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:51 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:14:51 [sessionId=948E1592418865D2A5DBE89C399EC251] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByEmail]: This method is not transactional.
2024-10-03 10:14:51 [sessionId=948E1592418865D2A5DBE89C399EC251] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:15:37 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:15:37 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:15:37 [sessionId=2D4306136E74D31B11CC12BA9A368894] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByEmail]: This method is not transactional.
2024-10-03 10:15:37 [sessionId=2D4306136E74D31B11CC12BA9A368894] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:16:13 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:16:13 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.updateCartItemQuantity]
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:16:13 [sessionId=67BB033E39C3848937B318649BF90183] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.updateCartItemQuantity]
2024-10-03 10:16:28 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:16:28 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.moveCartToLoan]
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save] after exception: java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: Not-null property references a transient value - transient instance must be saved before current operation : org.evpro.bookshopV5.model.LoanDetails.loan -> org.evpro.bookshopV5.model.Loan
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.moveCartToLoan] after exception: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientPropertyValueException: Not-null property references a transient value - transient instance must be saved before current operation : org.evpro.bookshopV5.model.LoanDetails.loan -> org.evpro.bookshopV5.model.Loan
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.hibernate.TransientPropertyValueException: Not-null property references a transient value - transient instance must be saved before current operation : org.evpro.bookshopV5.model.LoanDetails.loan -> org.evpro.bookshopV5.model.Loan
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - jdk.proxy4/jdk.proxy4.$Proxy159.save(Unknown Source)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.createNewLoanDetail(CartService.java:261)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.lambda$createLoanDetailsFromCart$8(CartService.java:250)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
2024-10-03 10:16:28 [sessionId=3809871175562C05522AD8577C1FB116] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
2024-10-03 10:19:46 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:19:47 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:19:47 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:19:51 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 15594 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:19:51 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:19:51 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:19:51 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:19:53 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:19:53 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 7 JPA repository interfaces.
2024-10-03 10:19:53 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:19:53 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:19:53 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:19:53 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:19:53 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:19:53 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1925 ms
2024-10-03 10:19:54 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:19:54 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:19:54 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6135e481
2024-10-03 10:19:54 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:19:56 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:19:56 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:19:57 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:57 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:19:58 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:19:58 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:19:58 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:19:58 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 7.336 seconds (process running for 7.868)
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:19:58 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:58 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:58 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:19:58 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:19:58 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:19:59 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:19:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:21:17 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:21:17 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:21:17 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 10:21:20 [sessionId=3809871175562C05522AD8577C1FB116] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1825 ms
2024-10-03 10:21:41 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:21:41 [sessionId=3809871175562C05522AD8577C1FB116] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:22:13 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:22:13 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:13 [sessionId=169BA5C1CDF15062B4BDBF940905804B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:22:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:22:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.moveCartToLoan]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:22:20 [sessionId=2BB5AF1ECCBA7DE5465ED84D35C9ABB5] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.moveCartToLoan]
2024-10-03 10:27:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:27:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:27:33 [sessionId=59199CEB8882E622900CF2175B699FC7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:27:33 [sessionId=59199CEB8882E622900CF2175B699FC7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:27:33 [sessionId=59199CEB8882E622900CF2175B699FC7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:27:33 [sessionId=59199CEB8882E622900CF2175B699FC7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:27:38 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:27:38 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:27:38 [sessionId=85B18FDA4A34F7E991FDF34E24E3C25B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:27:38 [sessionId=85B18FDA4A34F7E991FDF34E24E3C25B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:28:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:28:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:28:33 [sessionId=ED069A0F7E4B8256C1389964FEBE1F06] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:28:33 [sessionId=ED069A0F7E4B8256C1389964FEBE1F06] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:28:33 [sessionId=ED069A0F7E4B8256C1389964FEBE1F06] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:28:33 [sessionId=ED069A0F7E4B8256C1389964FEBE1F06] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:29:16 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:29:16 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:29:16 [sessionId=44EA7B862D98819A58C186B2682CA92F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:29:16 [sessionId=44EA7B862D98819A58C186B2682CA92F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:29:16 [sessionId=44EA7B862D98819A58C186B2682CA92F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:29:16 [sessionId=44EA7B862D98819A58C186B2682CA92F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:33:13 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:33:13 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:33:13 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:33:21 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 15826 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:33:21 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:33:21 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:33:21 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:33:23 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:33:23 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 7 JPA repository interfaces.
2024-10-03 10:33:24 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:33:24 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:33:24 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:33:24 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:33:24 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:33:24 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3347 ms
2024-10-03 10:33:25 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:33:25 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:33:26 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27d7d756
2024-10-03 10:33:26 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:33:28 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:33:28 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:33:29 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:33:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:33:31 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:33:31 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:33:31 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:33:31 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 11.761 seconds (process running for 12.759)
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:33:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:33:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:33:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:33:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:33:46 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:33:46 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:33:46 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-03 10:33:48 [sessionId=44EA7B862D98819A58C186B2682CA92F] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1180 ms
2024-10-03 10:34:02 [sessionId=44EA7B862D98819A58C186B2682CA92F] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:34:02 [sessionId=44EA7B862D98819A58C186B2682CA92F] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:34:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:34:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:34:33 [sessionId=89B9599B021165D5EC02E2A8B26D3A69] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 10:35:02 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:35:02 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:35:02 [sessionId=F8FDF2295367127D28808E96091A52FE] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:35:18 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:35:18 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:35:18 [sessionId=AE45C7B8666CCA05E6CC28F37C3F5C32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:36:28 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:36:28 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:36:28 [sessionId=5E9D74417997CDBC368BCEFC7E1439ED] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:36:28 [sessionId=5E9D74417997CDBC368BCEFC7E1439ED] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:36:50 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:36:50 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:36:50 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:36:58 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 15903 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:36:58 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:36:58 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:36:58 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:37:00 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:37:00 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 85 ms. Found 7 JPA repository interfaces.
2024-10-03 10:37:01 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:37:01 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:37:01 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:37:01 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:37:01 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:37:01 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3372 ms
2024-10-03 10:37:02 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:37:02 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:37:03 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e94ecc3
2024-10-03 10:37:03 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:37:05 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:37:06 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:37:07 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:37:07 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:07 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:08 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:37:09 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:37:09 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:37:09 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:37:09 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 12.512 seconds (process running for 13.457)
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:37:09 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:09 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:09 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:37:09 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:37:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:37:10 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:37:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:37:32 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:37:32 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:37:32 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-10-03 10:37:35 [sessionId=5E9D74417997CDBC368BCEFC7E1439ED] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1622 ms
2024-10-03 10:37:52 [sessionId=5E9D74417997CDBC368BCEFC7E1439ED] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:37:52 [sessionId=5E9D74417997CDBC368BCEFC7E1439ED] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:38:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:38:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteById]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteById]
2024-10-03 10:38:57 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:40:11 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:40:11 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:40:11 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:40:17 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 15958 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:40:17 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:40:17 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:40:17 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:40:18 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:40:18 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 7 JPA repository interfaces.
2024-10-03 10:40:20 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:40:20 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:40:20 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:40:20 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:40:20 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:40:20 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3737 ms
2024-10-03 10:40:21 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:40:21 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:40:22 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@584ac9c0
2024-10-03 10:40:22 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:40:24 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:40:24 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:40:25 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:25 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:40:26 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:40:27 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:40:27 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:40:27 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 10.735 seconds (process running for 11.491)
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:40:27 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:40:27 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:40:30 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:40:30 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:40:30 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-03 10:40:32 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1253 ms
2024-10-03 10:40:53 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:40:54 [sessionId=2C4A1B73D6BA88416543E36E040AF85F] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:41:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:41:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:41:11 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:44:03 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:44:03 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:44:03 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:44:08 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16032 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:44:08 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:44:08 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:44:08 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:44:10 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:44:10 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 7 JPA repository interfaces.
2024-10-03 10:44:10 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:44:10 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:44:10 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:44:10 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:44:11 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:44:11 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2108 ms
2024-10-03 10:44:11 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:44:11 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:44:12 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3aca989c
2024-10-03 10:44:12 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:44:14 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:44:14 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:44:15 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:15 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:16 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:44:16 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:44:16 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:44:16 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 8.777 seconds (process running for 9.461)
2024-10-03 10:44:16 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:44:16 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:44:16 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:44:16 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:17 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:44:17 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:44:19 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:44:19 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:44:19 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:44:22 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16041 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:44:22 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:44:22 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:44:22 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:44:24 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:44:24 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 7 JPA repository interfaces.
2024-10-03 10:44:25 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:44:25 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:44:25 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:44:25 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:44:25 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:44:25 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2983 ms
2024-10-03 10:44:26 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:44:26 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:44:26 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7c83c3f2
2024-10-03 10:44:26 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:44:28 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:44:29 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:44:30 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:30 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:44:32 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:44:32 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:44:32 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:44:32 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 10.924 seconds (process running for 11.594)
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:44:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:44:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:44:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:44:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:44:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:44:35 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:44:35 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:44:35 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 10:44:37 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1158 ms
2024-10-03 10:44:45 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:44:45 [sessionId=09ECEB8D2C9045DD3AA95198EFAFFA3D] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:45:03 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:45:03 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:45:03 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:46:21 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:46:21 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:46:21 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:46:27 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16084 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:46:27 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:46:27 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:46:27 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:46:28 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:46:28 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 7 JPA repository interfaces.
2024-10-03 10:46:29 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:46:29 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:46:29 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:46:29 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:46:29 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:46:29 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2284 ms
2024-10-03 10:46:30 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:46:30 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:46:30 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@436078a
2024-10-03 10:46:30 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:46:32 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:46:33 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:46:34 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:34 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:46:35 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:46:35 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:46:36 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:46:36 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 9.695 seconds (process running for 10.404)
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:46:36 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:46:36 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:46:41 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:46:41 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:46:41 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 10:46:44 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1413 ms
2024-10-03 10:46:52 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:46:52 [sessionId=7FECEDAE06115D46D1D2EAF0EBB1154A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:47:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:47:09 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:47:10 [sessionId=E5967B1565C68506EDC8D1DD31D8968B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:47:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:47:34 [sessionId=952D7AB42437507E8EE1C252EC37F0EC] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 10:47:34 [sessionId=952D7AB42437507E8EE1C252EC37F0EC] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:47:34 [sessionId=952D7AB42437507E8EE1C252EC37F0EC] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:47:34 [sessionId=952D7AB42437507E8EE1C252EC37F0EC] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:47:34 [sessionId=952D7AB42437507E8EE1C252EC37F0EC] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:47:34 [sessionId=952D7AB42437507E8EE1C252EC37F0EC] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 10:48:25 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:48:25 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:48:25 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 10:48:25 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:48:25 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:48:25 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:48:25 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:48:25 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 10:50:11 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:50:11 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:50:11 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:50:20 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16167 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:50:20 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:50:20 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:50:20 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:50:22 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:50:22 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 106 ms. Found 7 JPA repository interfaces.
2024-10-03 10:50:23 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:50:23 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:50:23 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:50:23 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:50:24 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:50:24 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3620 ms
2024-10-03 10:50:24 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:50:24 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:50:25 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@78826dcb
2024-10-03 10:50:25 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:50:27 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:50:28 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:50:28 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:50:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:29 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:50:30 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:50:30 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:50:30 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:50:31 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 11.747 seconds (process running for 12.897)
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:50:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:50:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:50:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:50:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:51:18 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:51:18 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:51:18 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 12 ms
2024-10-03 10:51:21 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1960 ms
2024-10-03 10:51:39 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:51:39 [sessionId=AD3704C9AC564BBDA97576DC3896335B] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:51:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:51:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:51:55 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 10:54:51 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:54:51 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:54:51 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:54:57 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16274 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:54:57 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:54:57 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:54:57 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:54:59 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:54:59 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 7 JPA repository interfaces.
2024-10-03 10:55:02 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:55:02 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:55:02 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:55:02 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:55:02 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:55:02 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4952 ms
2024-10-03 10:55:04 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:55:04 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:55:05 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3ad446b7
2024-10-03 10:55:05 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:55:07 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:55:08 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:55:09 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:09 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:55:11 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:55:11 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:55:11 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:55:11 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 15.103 seconds (process running for 15.988)
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:55:11 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:11 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:11 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:55:11 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:55:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:55:11 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:55:11 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:55:11 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:12 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:55:12 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:55:14 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1421 ms
2024-10-03 10:55:27 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:55:27 [sessionId=4CA81C1BBFAF36ABC1FA8003F3F907A3] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:55:47 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:55:47 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:55:47 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:57:29 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:57:29 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:57:29 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:57:36 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16365 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:57:36 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:57:36 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:57:36 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:57:37 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:57:37 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 7 JPA repository interfaces.
2024-10-03 10:57:38 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:57:38 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:57:38 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:57:38 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:57:38 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:57:38 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2238 ms
2024-10-03 10:57:39 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:57:39 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:57:39 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@602bb8c5
2024-10-03 10:57:39 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:57:42 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:57:42 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:57:43 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:43 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:57:45 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:57:45 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:57:45 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:57:45 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 10.156 seconds (process running for 10.913)
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:57:45 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:45 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:45 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:57:45 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:57:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:57:46 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:57:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:57:50 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:57:50 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:57:50 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 10:57:53 [sessionId=99D9654F6E672A23A78189E9B0098B09] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 2121 ms
2024-10-03 10:58:04 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:58:04 [sessionId=99D9654F6E672A23A78189E9B0098B09] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:58:23 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:58:23 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 10:58:23 [sessionId=A0DB6CCF0DE2CFC08471D58650932CB3] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 10:58:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:58:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts] after exception: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))] [delete from carts where id=?]; SQL [delete from carts where id=?]; constraint [null]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))] [delete from carts where id=?]; SQL [delete from carts where id=?]; constraint [null]
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - jdk.proxy4/jdk.proxy4.$Proxy157.findAllByCartId(Unknown Source)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.deleteAllCarts(CartService.java:164)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 10:58:33 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 10:59:03 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:59:03 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 10:59:03 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 10:59:11 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16406 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 10:59:11 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 10:59:11 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 10:59:11 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 10:59:12 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 10:59:12 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 7 JPA repository interfaces.
2024-10-03 10:59:13 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 10:59:13 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 10:59:13 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 10:59:13 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 10:59:14 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 10:59:14 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2906 ms
2024-10-03 10:59:14 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 10:59:14 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 10:59:15 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e94ecc3
2024-10-03 10:59:15 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 10:59:17 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 10:59:17 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 10:59:18 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:18 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 10:59:20 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 10:59:20 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 10:59:20 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 10:59:20 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 10.247 seconds (process running for 10.926)
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:59:20 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:20 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:20 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 10:59:20 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:59:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 10:59:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 10:59:21 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 10:59:21 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 10:59:21 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-10-03 10:59:23 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1517 ms
2024-10-03 10:59:34 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:59:34 [sessionId=D19F47A447348D0B883B7DBC244DA8AF] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:59:52 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:59:52 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts] after exception: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))] [delete from carts where id=?]; SQL [delete from carts where id=?]; constraint [null]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))] [delete from carts where id=?]; SQL [delete from carts where id=?]; constraint [null]
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - jdk.proxy4/jdk.proxy4.$Proxy157.findAllByCartId(Unknown Source)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.deleteAllCarts(CartService.java:164)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 10:59:52 [sessionId=63697ECCCCA52C41297699A74003EBF1] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:01:28 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:01:28 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:01:28 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:01:33 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16465 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:01:33 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:01:33 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:01:33 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:01:35 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:01:35 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 7 JPA repository interfaces.
2024-10-03 11:01:36 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:01:36 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:01:36 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:01:36 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:01:36 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:01:36 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3120 ms
2024-10-03 11:01:37 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:01:37 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:01:38 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e94ecc3
2024-10-03 11:01:38 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:01:40 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:01:40 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:01:41 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:01:41 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:41 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:42 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:01:43 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 11:01:43 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:01:43 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 11:01:43 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 10.658 seconds (process running for 11.304)
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:01:43 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:43 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:43 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 11:01:43 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:01:43 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:01:44 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 11:01:44 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:01:44 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 11:01:44 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 11:01:44 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 11:01:47 [sessionId=63697ECCCCA52C41297699A74003EBF1] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1457 ms
2024-10-03 11:01:57 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:01:57 [sessionId=63697ECCCCA52C41297699A74003EBF1] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:02:10 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:02:11 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllByCartId]: This method is not transactional.
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllByCartId]: This method is not transactional.
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts] after exception: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))] [delete from carts where id=?]; SQL [delete from carts where id=?]; constraint [null]
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FKpulqfptcuw8ttvds9pihgai16` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))] [delete from carts where id=?]; SQL [delete from carts where id=?]; constraint [null]
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - jdk.proxy4/jdk.proxy4.$Proxy157.deleteAllByCartId(Unknown Source)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.deleteAllCarts(CartService.java:164)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 11:02:11 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:03:40 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:03:40 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:03:40 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:03:45 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16515 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:03:45 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:03:45 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:03:45 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:03:47 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:03:47 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 89 ms. Found 7 JPA repository interfaces.
2024-10-03 11:03:48 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:03:48 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:03:48 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:03:48 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:03:48 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:03:48 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2748 ms
2024-10-03 11:03:49 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:03:49 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:03:50 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e07ca1
2024-10-03 11:03:50 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:03:53 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:03:53 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:03:54 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:03:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:55 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:03:56 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 11:03:56 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:03:56 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 11:03:57 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 12.217 seconds (process running for 12.909)
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:03:57 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 11:03:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:03:59 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 11:03:59 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 11:03:59 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-10-03 11:04:01 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1298 ms
2024-10-03 11:04:08 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:04:08 [sessionId=39F1C1B8254E7E4885C936FC7818F84A] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:04:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:04:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:04:21 [sessionId=4BD263524B691BC37B8A65F9F01EBABB] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 11:04:21 [sessionId=4BD263524B691BC37B8A65F9F01EBABB] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:04:21 [sessionId=4BD263524B691BC37B8A65F9F01EBABB] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:04:21 [sessionId=4BD263524B691BC37B8A65F9F01EBABB] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:04:21 [sessionId=4BD263524B691BC37B8A65F9F01EBABB] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:04:21 [sessionId=4BD263524B691BC37B8A65F9F01EBABB] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 11:04:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:04:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans] after exception: org.evpro.bookshopV5.exception.LoanException: No content
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - No content
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService.getLoans(LoanService.java:245)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService.deleteAllLoans(LoanService.java:131)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService$$SpringCGLIB$$0.deleteAllLoans(<generated>)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.LoanController.deleteAll(LoanController.java:77)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 11:04:45 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 11:05:16 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:05:16 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:05:17 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:05:23 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16574 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:05:23 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:05:23 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:05:23 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:05:24 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:05:25 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 186 ms. Found 7 JPA repository interfaces.
2024-10-03 11:05:26 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:05:26 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:05:26 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:05:26 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:05:27 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:05:27 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3902 ms
2024-10-03 11:05:28 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:05:28 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:05:29 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ea95775
2024-10-03 11:05:29 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:05:31 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:05:31 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:05:32 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:32 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:05:33 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 11:05:33 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:05:33 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 11:05:33 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 11.432 seconds (process running for 12.327)
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:05:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 11:05:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:05:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:05:34 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 11:05:34 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:05:39 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 11:05:39 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 11:05:39 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 11:05:42 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1407 ms
2024-10-03 11:05:51 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:05:51 [sessionId=A7CB9F9FB5FD25E88123E80526F41861] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:06:03 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:06:04 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:06:04 [sessionId=A3E778EF21A3680B05F3916E48838F1C] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 11:06:04 [sessionId=A3E778EF21A3680B05F3916E48838F1C] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:06:04 [sessionId=A3E778EF21A3680B05F3916E48838F1C] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:06:04 [sessionId=A3E778EF21A3680B05F3916E48838F1C] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:06:04 [sessionId=A3E778EF21A3680B05F3916E48838F1C] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:06:04 [sessionId=A3E778EF21A3680B05F3916E48838F1C] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 11:06:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:06:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans] after exception: org.evpro.bookshopV5.exception.LoanException: No content
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - No content
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService.getLoans(LoanService.java:245)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService.deleteAllLoans(LoanService.java:131)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService$$SpringCGLIB$$0.deleteAllLoans(<generated>)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.LoanController.deleteAll(LoanController.java:77)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 11:06:20 [sessionId=1189B5E4B5E7466DF8803B39CB37D084] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 11:07:00 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:07:00 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count] after exception: jakarta.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.evpro.bookshopV5.model.CartItem#1]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts] after exception: org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.evpro.bookshopV5.model.CartItem#1]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.evpro.bookshopV5.model.CartItem#1]
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:325)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - jdk.proxy4/jdk.proxy4.$Proxy156.count(Unknown Source)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.deleteAllCarts(CartService.java:171)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 11:07:01 [sessionId=1CE4E62CC46F560769EB088276070244] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:07:38 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:07:38 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:07:38 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:07:44 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16650 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:07:44 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:07:45 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:07:45 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:07:46 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:07:46 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 7 JPA repository interfaces.
2024-10-03 11:07:48 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:07:48 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:07:48 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:07:48 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:07:48 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:07:48 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3079 ms
2024-10-03 11:07:48 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:07:48 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:07:49 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@657f02b6
2024-10-03 11:07:49 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:07:51 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:07:51 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:07:52 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:52 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:07:54 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 11:07:54 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:07:54 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 11:07:54 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 10.052 seconds (process running for 10.759)
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:07:54 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 11:07:54 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:08:04 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 11:08:04 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 11:08:04 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-03 11:08:06 [sessionId=1CE4E62CC46F560769EB088276070244] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1114 ms
2024-10-03 11:08:30 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:08:30 [sessionId=1CE4E62CC46F560769EB088276070244] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:08:53 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:08:53 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:08:53 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 11:11:04 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:11:04 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:11:04 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:11:09 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16711 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:11:09 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:11:09 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:11:09 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:11:10 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:11:11 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 7 JPA repository interfaces.
2024-10-03 11:11:12 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:11:12 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:11:12 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:11:12 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:11:12 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:11:12 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2405 ms
2024-10-03 11:11:12 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:11:12 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:11:13 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e2881f9
2024-10-03 11:11:13 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:11:16 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:11:17 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:11:18 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:19 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:11:20 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 11:11:20 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:11:20 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 11:11:20 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 12.153 seconds (process running for 12.77)
2024-10-03 11:11:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:11:20 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 11:11:20 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:21 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 11:11:21 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:11:23 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 11:11:23 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 11:11:23 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 11:11:25 [sessionId=9A0318964E0947615BAB9D48529B97E6] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1298 ms
2024-10-03 11:11:31 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:11:32 [sessionId=9A0318964E0947615BAB9D48529B97E6] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:11:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:11:57 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsById]
2024-10-03 11:11:57 [sessionId=A0B69FC890AEB43F3038AFD09848B3CD] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteCartById]
2024-10-03 11:12:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:12:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:12:08 [sessionId=B56FAFAD3628F297F285BFD5F65F8F4A] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 11:12:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:12:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:12:46 [sessionId=02D19204D0EBD9F7450A54F781AB971B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 11:12:46 [sessionId=02D19204D0EBD9F7450A54F781AB971B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 11:12:46 [sessionId=02D19204D0EBD9F7450A54F781AB971B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 11:12:46 [sessionId=02D19204D0EBD9F7450A54F781AB971B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.delete]
2024-10-03 11:12:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:12:59 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`loans_details`, CONSTRAINT `FK194byhgcrdttwakxwwj2obrx8` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`loans_details`, CONSTRAINT `FK194byhgcrdttwakxwwj2obrx8` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))] [delete from books where id=?]; SQL [delete from books where id=?]; constraint [null]
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - jdk.proxy4/jdk.proxy4.$Proxy154.deleteAll(Unknown Source)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService.deleteAll(BookService.java:187)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:12:59 [sessionId=560FEF025808982FB23EA8D5117F595C] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:16:09 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:16:09 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:16:09 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:16:16 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16813 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:16:16 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:16:16 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:16:16 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:16:18 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:16:18 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 211 ms. Found 7 JPA repository interfaces.
2024-10-03 11:16:19 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16818 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:16:19 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:16:19 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:16:19 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:16:20 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:16:20 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:16:20 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:16:20 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:16:20 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:16:20 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3952 ms
2024-10-03 11:16:20 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:16:20 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 118 ms. Found 7 JPA repository interfaces.
2024-10-03 11:16:21 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:16:21 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:16:22 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:16:22 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:16:22 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:16:22 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:16:22 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fc6164e
2024-10-03 11:16:22 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:16:22 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:16:22 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3156 ms
2024-10-03 11:16:23 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:16:23 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:16:24 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79b29676
2024-10-03 11:16:24 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:16:25 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:16:26 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:16:27 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:16:28 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:28 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:16:28 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 11:16:31 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:31 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 16.06 seconds (process running for 16.791)
2024-10-03 11:16:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:16:31 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 11:16:31 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 11:16:32 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:16:32 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:33 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 11:16:33 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:16:33 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:16:33 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:16:34 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:16:34 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:16:34 [] [ERROR]: o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2024-10-03 11:16:43 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table carts 
       drop 
       foreign key FKb5o626f86h46m4s7ms6ginnop
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table carts_items 
       drop 
       foreign key FK7jcwpqy7hqi5wvohinfo7qvyv
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table carts_items 
       drop 
       foreign key FKpulqfptcuw8ttvds9pihgai16
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table loans 
       drop 
       foreign key FK6xxlcjc0rqtn5nq28vjnx5t9d
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table loans_details 
       drop 
       foreign key FK194byhgcrdttwakxwwj2obrx8
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table loans_details 
       drop 
       foreign key FKlfgrtgls2h5543kj4odsmufnd
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table user_role 
       drop 
       foreign key FKt7e7djp752sqn6w22i6ocqy6q
2024-10-03 11:16:43 [] [ERROR]: o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl - HHH000478: Unsuccessful: 
    alter table user_role 
       drop 
       foreign key FKj345gk1bovqvfame88rcx7yyx
2024-10-03 11:16:43 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:16:43 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 11:16:49 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 16842 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 11:16:49 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 11:16:49 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 11:16:49 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 11:16:50 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 11:16:50 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 7 JPA repository interfaces.
2024-10-03 11:16:51 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 11:16:51 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 11:16:51 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 11:16:51 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 11:16:51 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 11:16:51 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1825 ms
2024-10-03 11:16:51 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 11:16:51 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 11:16:52 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c2392b6
2024-10-03 11:16:52 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 11:16:53 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:16:53 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 11:16:54 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:54 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 11:16:55 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 11:16:55 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 11:16:55 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 11:16:55 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 7.024 seconds (process running for 7.719)
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:16:55 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:55 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:55 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 11:16:55 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:16:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 11:16:56 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 11:16:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 11:17:12 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 11:17:12 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 11:17:12 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-10-03 11:17:14 [sessionId=560FEF025808982FB23EA8D5117F595C] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1163 ms
2024-10-03 11:17:22 [sessionId=560FEF025808982FB23EA8D5117F595C] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:17:22 [sessionId=560FEF025808982FB23EA8D5117F595C] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:17:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:17:45 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`loans_details`, CONSTRAINT `FK194byhgcrdttwakxwwj2obrx8` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch] after exception: org.hibernate.exception.ConstraintViolationException: JDBC exception executing SQL [delete b1_0 from books b1_0] [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`loans_details`, CONSTRAINT `FK194byhgcrdttwakxwwj2obrx8` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))] [n/a]
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.BookService.deleteAll] after exception: org.springframework.dao.DataIntegrityViolationException: JDBC exception executing SQL [delete b1_0 from books b1_0] [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`loans_details`, CONSTRAINT `FK194byhgcrdttwakxwwj2obrx8` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))] [n/a]; SQL [n/a]; constraint [null]
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - JDBC exception executing SQL [delete b1_0 from books b1_0] [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`loans_details`, CONSTRAINT `FK194byhgcrdttwakxwwj2obrx8` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))] [n/a]; SQL [n/a]; constraint [null]
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - jdk.proxy4/jdk.proxy4.$Proxy154.deleteAllInBatch(Unknown Source)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService.deleteAll(BookService.java:191)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 11:17:45 [sessionId=48930E77FF92466DDE433788BCB8B2D9] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 11:17:58 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 11:17:58 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 11:17:58 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 19:36:33 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 26832 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 19:36:33 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 19:36:33 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 19:36:33 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 19:36:34 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 19:36:34 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 7 JPA repository interfaces.
2024-10-03 19:36:35 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 19:36:35 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 19:36:35 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 19:36:35 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 19:36:35 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 19:36:35 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2233 ms
2024-10-03 19:36:36 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 19:36:36 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 19:36:36 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6845ffd2
2024-10-03 19:36:36 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 19:36:38 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:36:39 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 19:36:39 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 19:36:39 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:36:40 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 19:36:40 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 19:36:40 [] [INFO ]: o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-10-03 19:36:40 [] [ERROR]: o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookController' defined in file [/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes/org/evpro/bookshopV5/controller/BookController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookService' defined in file [/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes/org/evpro/bookshopV5/service/BookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'loanDetailRepository' defined in org.evpro.bookshopV5.repository.LoanDetailRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at org.evpro.bookshopV5.BookShopApp.main(BookShopApp.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookService' defined in file [/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes/org/evpro/bookshopV5/service/BookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'loanDetailRepository' defined in org.evpro.bookshopV5.repository.LoanDetailRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loanDetailRepository' defined in org.evpro.bookshopV5.repository.LoanDetailRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 36 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 63 common frames omitted
2024-10-03 19:37:14 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 26848 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 19:37:14 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 19:37:14 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 19:37:14 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 19:37:15 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 19:37:15 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 7 JPA repository interfaces.
2024-10-03 19:37:16 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 19:37:16 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 19:37:16 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 19:37:16 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 19:37:16 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 19:37:16 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2168 ms
2024-10-03 19:37:16 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 19:37:16 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 19:37:17 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3aca989c
2024-10-03 19:37:17 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 19:37:18 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:37:19 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 19:37:20 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 19:37:20 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:37:20 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 19:37:20 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 19:37:20 [] [INFO ]: o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-10-03 19:37:20 [] [ERROR]: o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookController' defined in file [/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes/org/evpro/bookshopV5/controller/BookController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookService' defined in file [/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes/org/evpro/bookshopV5/service/BookService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'loanDetailRepository' defined in org.evpro.bookshopV5.repository.LoanDetailRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at org.evpro.bookshopV5.BookShopApp.main(BookShopApp.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookService' defined in file [/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes/org/evpro/bookshopV5/service/BookService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'loanDetailRepository' defined in org.evpro.bookshopV5.repository.LoanDetailRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loanDetailRepository' defined in org.evpro.bookshopV5.repository.LoanDetailRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 36 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); Reason: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract boolean org.evpro.bookshopV5.repository.LoanDetailRepository.existsByReturnDateIsNull(); No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'returnDate' found for type 'LoanDetails'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 63 common frames omitted
2024-10-03 19:38:35 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 26887 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 19:38:35 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 19:38:35 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 19:38:35 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 19:38:36 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 19:38:36 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 7 JPA repository interfaces.
2024-10-03 19:38:36 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 19:38:36 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 19:38:36 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 19:38:36 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 19:38:36 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 19:38:36 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1876 ms
2024-10-03 19:38:37 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 19:38:37 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 19:38:37 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31e7a571
2024-10-03 19:38:37 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 19:38:39 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:38:39 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 19:38:40 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.updateBookQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.updateBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.deleteBookById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:40 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:38:41 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 19:38:41 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 19:38:41 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 19:38:41 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 7.354 seconds (process running for 7.932)
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 19:38:41 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:41 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:41 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 19:38:41 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 19:38:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:38:42 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 19:38:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 19:38:51 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 19:38:51 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 19:38:51 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-10-03 19:38:53 [sessionId=B6E2AE4D89EE7BDEAC99D4D74824D22C] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1184 ms
2024-10-03 19:39:16 [sessionId=B6E2AE4D89EE7BDEAC99D4D74824D22C] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:16 [sessionId=B6E2AE4D89EE7BDEAC99D4D74824D22C] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:42 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 19:39:42 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 19:39:42 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2024-10-03 19:39:42 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:42 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 19:39:42 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:43 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:43 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:43 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:43 [sessionId=63431093C2D8CF151B9A03C3E0BEF256] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.addItemToCart]
2024-10-03 19:39:51 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:51 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.moveCartToLoan]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findCartByUserEmail]: This method is not transactional.
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByCartId]: This method is not transactional.
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:39:51 [sessionId=DCD8C754272AEEC11AD2ECE1D94309A7] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.moveCartToLoan]
2024-10-03 19:40:06 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:06 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:06 [sessionId=B2F21879755173E430B055817430EFDE] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:24 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:24 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByReturnDateIsNull]: This method is not transactional.
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.BookService.deleteAll] after exception: org.evpro.bookshopV5.exception.BookException: Cannot delete all books. Some books are currently on loan
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - Cannot delete all books. Some books are currently on loan
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService.deleteAll(BookService.java:167)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService$$SpringCGLIB$$0.deleteAll(<generated>)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.BookController.deleteBooks(BookController.java:85)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:40:24 [sessionId=3C8C7E8548E4FC247D9D005676901FBA] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:40:40 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:40 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:40 [sessionId=B966F5ABA0CFF2DB28DCFECF28E5F671] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 19:40:40 [sessionId=B966F5ABA0CFF2DB28DCFECF28E5F671] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:40 [sessionId=B966F5ABA0CFF2DB28DCFECF28E5F671] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:40 [sessionId=B966F5ABA0CFF2DB28DCFECF28E5F671] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:40:40 [sessionId=B966F5ABA0CFF2DB28DCFECF28E5F671] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:40:40 [sessionId=B966F5ABA0CFF2DB28DCFECF28E5F671] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 19:40:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:46 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - No content
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService.getLoans(LoanService.java:245)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService.getAllLoans(LoanService.java:117)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.LoanService$$SpringCGLIB$$0.getAllLoans(<generated>)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.LoanController.getAllLoans(LoanController.java:65)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:269)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:264)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration$DeferringMethodInterceptor.invoke(PrePostMethodSecurityConfiguration.java:200)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 19:40:46 [sessionId=61F606EDDF796D0790780D655F8F1ECC] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:40:52 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:52 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByReturnDateIsNull]: This method is not transactional.
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FK7jcwpqy7hqi5wvohinfo7qvyv` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_db_v5`.`carts_items`, CONSTRAINT `FK7jcwpqy7hqi5wvohinfo7qvyv` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`))] [delete from books where id=?]; SQL [delete from books where id=?]; constraint [null]
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService$$SpringCGLIB$$0.deleteAll(<generated>)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.BookController.deleteBooks(BookController.java:85)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:40:52 [sessionId=7A66C60DE9057A2CEAD1B704AF7AE1C0] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:269)
2024-10-03 19:41:49 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:41:49 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:41:49 [sessionId=32572919984000A13177129CA6D3AF6F] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 19:41:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:41:55 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - No carts in all system
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.getListOfCarts(CartService.java:221)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService.getAllCarts(CartService.java:130)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.CartService$$SpringCGLIB$$0.getAllCarts(<generated>)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.CartController.getAllCarts(CartController.java:82)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:269)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:264)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration$DeferringMethodInterceptor.invoke(PrePostMethodSecurityConfiguration.java:200)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 19:41:55 [sessionId=D94CECB9FCF6CBF5CBDF4B3EE4259C15] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:42:00 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:42:00 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:42:00 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:42:00 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:42:00 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:42:00 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByReturnDateIsNull]: This method is not transactional.
2024-10-03 19:42:00 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:42:00 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:42:00 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:45:54 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:45:54 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 19:45:54 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-10-03 19:45:59 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Starting BookShopApp using Java 21.0.2 with PID 27051 (/Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project/target/classes started by SaraObia in /Users/SaraObia/Local_Doc/IdeaProjects/Java_evolution_project)
2024-10-03 19:45:59 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - The following 1 profile is active: "dev"
2024-10-03 19:45:59 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-03 19:45:59 [] [INFO ]: o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-03 19:46:00 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-03 19:46:00 [] [INFO ]: o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 7 JPA repository interfaces.
2024-10-03 19:46:01 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-03 19:46:01 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-10-03 19:46:01 [] [INFO ]: o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-03 19:46:01 [] [INFO ]: o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-03 19:46:01 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-03 19:46:01 [] [INFO ]: o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1996 ms
2024-10-03 19:46:02 [] [INFO ]: o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-03 19:46:02 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-03 19:46:03 [] [INFO ]: com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17ceb861
2024-10-03 19:46:03 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-03 19:46:04 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:46:05 [] [INFO ]: o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-10-03 19:46:06 [] [INFO ]: o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.addBooks' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.updateBook' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.deleteBookById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.BookService.updateBookQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.addItemToCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.clearCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.moveCartToLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteCartById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.deleteAllCarts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.removeItemFromCart' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.CartService.updateCartItemQuantity' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.returnLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteAllLoans' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.deleteLoanById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.createDirectLoan' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.LoanService.extendLoanDueDate' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeEmail' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.addNewUsers' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.updateUserRole' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.reactivateUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.deleteUser' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.service.UserService.changeUserPassword' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:06 [] [TRACE]: o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'org.evpro.bookshopV5.utils.DbInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2024-10-03 19:46:07 [] [INFO ]: o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-03 19:46:07 [] [INFO ]: o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-10-03 19:46:07 [] [INFO ]: o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-03 19:46:07 [] [INFO ]: org.evpro.bookshopV5.BookShopApp - Started BookShopApp in 8.184 seconds (process running for 8.793)
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing roles...
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_USER created
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByRoleCode]: This method is not transactional.
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Role ROLE_ADMIN created
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing users...
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByRoleCode]: This method is not transactional.
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 4 users created
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing books...
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - 5 books created
2024-10-03 19:46:07 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing carts and cart items...
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:07 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: john@example.com
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: jane@example.com
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Cart with items created for user: bob@example.com
2024-10-03 19:46:08 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Initializing loans and loan details...
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: john@example.com
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: jane@example.com
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2024-10-03 19:46:08 [] [INFO ]: o.e.bookshopV5.utils.DbInitializer - Loan with details created for user: bob@example.com
2024-10-03 19:46:08 [] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.utils.DbInitializer.run]
2024-10-03 19:46:09 [] [INFO ]: o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-03 19:46:09 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-03 19:46:09 [] [INFO ]: o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2024-10-03 19:46:11 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [INFO ]: o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1050 ms
2024-10-03 19:46:23 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:23 [sessionId=9AF1BDA72740735EE53E00979ED6EA32] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:41 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:42 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByReturnDateIsNull]: This method is not transactional.
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.BookService.deleteAll] after exception: org.evpro.bookshopV5.exception.BookException: Cannot delete all books. Some books are currently on loan
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - Cannot delete all books. Some books are currently on loan
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService.deleteAll(BookService.java:166)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService$$SpringCGLIB$$0.deleteAll(<generated>)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.BookController.deleteBooks(BookController.java:85)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:46:42 [sessionId=D6F3A35C9B9D4EB40427C1052B8180B2] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:46:49 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:49 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:49 [sessionId=AC51CC5DB00BBCE818E314EF6D947557] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 19:46:49 [sessionId=AC51CC5DB00BBCE818E314EF6D947557] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:49 [sessionId=AC51CC5DB00BBCE818E314EF6D947557] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:49 [sessionId=AC51CC5DB00BBCE818E314EF6D947557] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:46:49 [sessionId=AC51CC5DB00BBCE818E314EF6D947557] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:46:49 [sessionId=AC51CC5DB00BBCE818E314EF6D947557] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.LoanService.deleteAllLoans]
2024-10-03 19:46:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:56 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByReturnDateIsNull]: This method is not transactional.
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.BookService.deleteAll] after exception: org.evpro.bookshopV5.exception.BookException: Cannot delete all books. Some books are in users' carts
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - Cannot delete all books. Some books are in users' carts
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService.deleteAll(BookService.java:174)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.service.BookService$$SpringCGLIB$$0.deleteAll(<generated>)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.evpro.bookshopV5.controller.BookController.deleteBooks(BookController.java:85)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - java.base/java.lang.reflect.Method.invoke(Method.java:580)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
2024-10-03 19:46:56 [sessionId=24AE5DBE858FBF1407D269EE56DB5983] [ERROR]: o.e.b.config.ExceptionHandlerConfig - org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
2024-10-03 19:47:14 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:47:14 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllInBatch]
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:47:14 [sessionId=364A126B74473C4CD6221821354C92B6] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.CartService.deleteAllCarts]
2024-10-03 19:47:19 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:47:19 [sessionId=334D0FEAFCF7FDF185F5A9DF7BD1E9E6] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:47:19 [sessionId=334D0FEAFCF7FDF185F5A9DF7BD1E9E6] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:47:24 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:47:24 [] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmail]: This method is not transactional.
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.existsByReturnDateIsNull]: This method is not transactional.
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.count]
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll]
2024-10-03 19:47:24 [sessionId=7D16EF7E14521800F245DB8BD98DE15B] [TRACE]: o.s.t.i.TransactionInterceptor - Completing transaction for [org.evpro.bookshopV5.service.BookService.deleteAll]
2024-10-03 19:48:47 [] [INFO ]: o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-03 19:48:47 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-10-03 19:48:47 [] [INFO ]: com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
